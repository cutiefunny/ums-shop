/* app/checkout/checkout.module.css */

.pageContainer {
  display: flex;
  flex-direction: column;
  min-height: 100vh;
  background-color: #fff;
  padding-bottom: 70px; /* For BottomNav if used */
}

.header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 12px 16px;
  position: sticky;
  top: 0;
  background-color: white;
  z-index: 10;
  border-bottom: 1px solid #f1f3f5;
}

.title {
  font-size: 1.2rem;
  font-weight: 600;
}

.iconButton {
  background: none;
  border: none;
  cursor: pointer;
  display: flex;
  align-items: center;
  padding: 4px;
}

.mainContent {
  padding: 16px;
}

.loadingSpinner {
  width: 48px;
  height: 48px;
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
}

.emptyMessage {
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  height: calc(100vh - 200px); /* Adjust height as needed */
  color: #868e96;
  font-size: 1rem;
}

.shopNowButton {
  background-color: #f5a623;
  border-color: #f5a623;
  color: white;
  padding: 10px 20px;
  border-radius: 8px;
  margin-top: 20px;
  cursor: pointer;
  font-weight: bold;
}

.section {
  background-color: #f8f9fa;
  border-radius: 12px;
  padding: 20px;
  margin-bottom: 16px;
  box-shadow: 0 2px 5px rgba(0,0,0,0.05);
}

.sectionHeader {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 15px;
  padding-bottom: 10px;
  border-bottom: 1px solid #e9ecef;
}

.sectionHeader h2,
.section h2 { /* common for all section titles */
  font-size: 1.1rem;
  font-weight: 600;
  color: #212529;
  margin: 0;
}

.totalCheckboxLabel {
  display: flex;
  align-items: center;
  gap: 8px;
  font-size: 1rem;
  font-weight: 600;
  color: #212529;
  cursor: pointer;
}

.deleteButton {
  background: none;
  border: none;
  color: #dc3545;
  font-size: 0.9rem;
  cursor: pointer;
}

.cartItemsList {
  display: flex;
  flex-direction: column;
  gap: 10px; /* CartItem 사이 간격 */
}

.cartItemWrapper {
  display: flex;
  align-items: center;
  gap: 10px;
}

.itemCheckbox {
  transform: scale(1.1); /* 체크박스 크기 키우기 */
  margin-right: 5px;
}

/* Reusing CartItem.module.css styles here for .cartItemCard, .itemImageLink, etc.
   If CartItem.module.css is correctly imported into CartItem.jsx,
   these styles will automatically apply. No need to duplicate here unless
   overriding or creating new elements that share names. */

.messageHeader {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 15px;
  padding-bottom: 10px;
  border-bottom: 1px solid #e9ecef;
}

.messageInput {
  width: 100%;
  padding: 10px 12px;
  border: 1px solid #ced4da;
  border-radius: 8px;
  font-size: 1rem;
  box-sizing: border-box;
  resize: vertical;
  min-height: 60px;
}

.deliveryOptions {
    display: flex;
    flex-direction: column;
    gap: 10px;
    margin-top: 15px;
    margin-bottom: 15px;
}

.deliveryOptions label {
  display: flex;
  align-items: center;
  gap: 8px;
  font-size: 0.95rem;
  color: #212529;
  cursor: pointer;
}

.deliveryOptions input[type="radio"] {
  accent-color: #f5a623;
}

.deliveryInput {
  width: 100%;
  padding: 10px 12px;
  border: 1px solid #ced4da;
  border-radius: 8px;
  font-size: 1rem;
  margin-bottom: 10px;
  box-sizing: border-box;
}

.deliveryInput:last-child {
  margin-bottom: 0;
}

.summaryRow {
  display: flex;
  justify-content: space-between;
  padding: 8px 0;
  font-size: 1rem;
  color: #495057;
}

.summaryRow span:first-child {
  font-weight: 500;
}

.finalTotalRow {
  font-size: 1.1rem;
  font-weight: 700;
  color: #212529;
  border-top: 1px solid #e9ecef;
  padding-top: 10px;
  margin-top: 10px;
}

.finalTotalRow span:last-child {
  color: #e57373; /* Highlight color for final price */
}

.currency {
  font-size: 0.9em;
  color: #868e96;
  margin-left: 5px;
}

.submitButton {
  width: 95%;
  padding: 14px;
  border: none;
  border-radius: 8px;
  background-color: #f5a623;
  color: white;
  font-size: 1.1rem;
  font-weight: bold;
  cursor: pointer;
  transition: background-color 0.2s ease;
}

.submitButton:disabled {
  background-color: #e0e0e0;
  color: #adb5bd;
  cursor: not-allowed;
}

.submitButton:hover:not(:disabled) {
  background-color: #d88e1a;
}

.fixedFooter {
  position: sticky; /* fixed 대신 sticky를 사용하여 스크롤 따라다니게 */
  bottom: 0;
  left: 0;
  right: 0;
  background-color: white;
  box-shadow: 0 -2px 10px rgba(0,0,0,0.05);
  padding: 16px;
  /* padding-bottom: calc(16px + env(safe-area-inset-bottom)); */
  display: flex;
  flex-direction: column;
  gap: 10px;
  align-items: center;
  z-index: 10;
}

.totalSummaryBox {
  width: 100%;
  background-color: #f7f7f7;
  margin-bottom: 5px;
}

.totalSummaryRow {
  display: flex;
  justify-content: space-between;
  padding: 5px 0;
  font-size: 0.95rem;
  color: #495057;
}

.totalSummaryLabel {
  font-weight: 500;
}

.totalSummaryValue {
  font-weight: 600;
}

.totalSummaryDivider {
  border-top: 2px solid #808080;
  margin: 8px 0;
}

.highlightPrice {
  font-size: 1.1rem;
  font-weight: bold;
  color: #e57373; /* Final price highlight */
}

/* New styles for Step 2: Order in Review - Admin Feedback */
.infoBanner {
    background-color: #fffbeb; /* Light yellow background */
    border: 1px solid #ffe082; /* Yellow border */
    border-radius: 12px;
    padding: 20px;
    margin-bottom: 16px;
    font-size: 0.95rem;
    line-height: 1.6;
    color: #495057;
    text-align: left;
}

.infoBanner ul {
    margin-top: 10px;
    margin-bottom: 10px;
    padding-left: 20px;
    list-style-type: disc;
}

.infoBanner li {
    margin-bottom: 5px;
}

.cartItemCard { /* Reusing styles from CartItem.module.css */
    display: flex;
    align-items: center;
    gap: 15px;
    background-color: #fff;
    border: 1px solid #e0e0e0;
    border-radius: 12px;
    padding: 15px;
    margin-bottom: 10px; /* Adjusted margin */
    box-shadow: 0 2px 5px rgba(0,0,0,0.05);
    position: relative;
}

.itemImageLink {
  flex-shrink: 0;
  display: block;
}

.itemDetails {
  flex-grow: 1;
  display: flex;
  flex-direction: column;
  gap: 5px;
}

.itemName {
  font-size: 1.1rem;
  font-weight: 600;
  color: #333;
  margin: 0;
  line-height: 1.4;
}

.itemUnitPrice {
  font-size: 0.9rem;
  color: #666;
  margin: 0;
}

.adminFeedback {
    display: flex;
    align-items: center;
    gap: 10px;
    margin-top: 8px;
}

.adminStatusTag {
    display: inline-block;
    padding: 4px 8px;
    border-radius: 4px;
    font-size: 0.8rem;
    font-weight: bold;
    color: white;
    background-color: #6c757d; /* Default gray, will be overridden by specific status */
}
/* Specific admin status tags (example colors, adjust as needed) */
.adminStatusTag[data-status="Available"] { background-color: #28a745; } /* Green */
.adminStatusTag[data-status="Limited Quantity"] { background-color: #ffc107; } /* Yellow */
.adminStatusTag[data-status="Out of Stock"] { background-color: #dc3545; } /* Red */
.adminStatusTag[data-status="Alternative Offer"] { background-color: #17a2b8; } /* Teal */
.adminStatusTag[data-status="Pending Review"] { background-color: #6c757d; } /* Grey */


.outOfStockText {
    color: #dc3545;
    font-weight: bold;
    font-size: 0.9rem;
}

.alternativeOfferButton {
    background-color: #007bff;
    color: white;
    border: none;
    padding: 6px 10px;
    border-radius: 5px;
    font-size: 0.85rem;
    cursor: pointer;
}

.itemTotalPrice { /* Total price per item in the review stage */
  font-size: 1rem;
  font-weight: 700;
  color: #212529;
  margin-top: 10px;
}

/* Quantity control for admin feedback */
.quantityControl {
  display: flex;
  align-items: center;
  gap: 8px;
}

.quantityControl button {
  width: 30px;
  height: 30px;
  background-color: #f0f0f0;
  border: 1px solid #ddd;
  border-radius: 5px;
  font-size: 1.1rem;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: background-color 0.2s;
}

.quantityControl button:hover:not(:disabled) {
  background-color: #e0e0e0;
}

.quantityControl button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

.itemQuantity {
  font-size: 1rem;
  font-weight: 500;
  min-width: 25px;
  text-align: center;
}

/* Message History Area (Chat) */
.messageHistoryArea {
    border: 1px solid #ced4da;
    border-radius: 8px;
    min-height: 150px;
    max-height: 250px; /* Limit height for scrolling */
    overflow-y: auto;
    padding: 15px;
    background-color: #fff;
    display: flex;
    flex-direction: column;
    gap: 10px;
    margin-bottom: 10px;
}

.chatMessage {
    display: flex;
    flex-direction: column;
    max-width: 80%;
}

.chatMessage.userMessage {
    align-self: flex-end; /* User messages to the right */
    background-color: #dcf8c6; /* Light green bubble */
    border-radius: 12px 12px 0 12px;
    padding: 8px 12px;
}

.chatMessage.adminMessage {
    align-self: flex-start; /* Admin messages to the left */
    background-color: #e9ecef; /* Light gray bubble */
    border-radius: 12px 12px 12px 0;
    padding: 8px 12px;
}

.chatMessageText {
    margin: 0;
    font-size: 0.9rem;
    color: #343a40;
}

.chatMessageTime {
    font-size: 0.7rem;
    color: #868e96;
    margin-top: 4px;
    text-align: right;
}

.messageInputContainer {
    display: flex;
    align-items: center;
    gap: 10px;
}

.messageInputContainer textarea {
    flex-grow: 1;
    border-radius: 20px;
    padding: 8px 15px;
    min-height: 40px; /* Adjust for single line */
    max-height: 80px; /* Max height for multiple lines */
    overflow-y: auto;
    resize: none; /* Disable manual resize */
}

.sendMessageButton {
    background-color: #f5a623;
    color: white;
    border: none;
    border-radius: 20px;
    padding: 8px 15px;
    font-size: 0.9rem;
    font-weight: bold;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 5px;
    transition: background-color 0.2s ease;
}

.sendMessageButton:hover {
    background-color: #d88e1a;
}

.sendMessageButton svg {
    width: 18px;
    height: 18px;
    color: white;
}

/* Step 3 Payment Options */
.paymentOptionsGrid {
    display: grid;
    grid-template-columns: 1fr; /* Default to single column */
    gap: 10px;
}

@media (min-width: 600px) {
  .paymentOptionsGrid {
    grid-template-columns: repeat(2, 1fr); /* Two columns on larger screens */
  }
}

.paymentMethodButton {
    background-color: #e9ecef;
    color: #212529;
    border: 1px solid #dee2e6;
    padding: 15px;
    border-radius: 8px;
    font-size: 1rem;
    font-weight: 500;
    cursor: pointer;
    transition: background-color 0.2s ease;
}

.paymentMethodButton:hover {
    background-color: #d1d5db;
}


/* General detail text style */
.detailText {
    font-size: 0.95rem;
    color: #212529;
    margin-bottom: 5px;
}

.smallText {
    font-size: 0.8rem;
    color: #6c757d;
    margin-bottom: 5px;
}

/* Payment buttons (in fixed footer for step 2) */
.paymentButtons {
  display: flex;
  gap: 10px;
  width: 100%;
}

.paymentButtons .cancelButton {
  flex: 1;
  background-color: #6c757d; /* Gray for Back/Cancel */
  color: white;
  padding: 14px;
  border-radius: 8px;
  border: none;
  font-weight: bold;
  cursor: pointer;
}

.paymentButtons .cancelButton:hover {
  background-color: #5a6268;
}

.paymentButtons .payButton {
  flex: 1;
  background-color: #f5a623; /* Yellow for Pay/Confirm */
  color: white;
  padding: 14px;
  border-radius: 8px;
  border: none;
  font-weight: bold;
  cursor: pointer;
}

.paymentButtons .payButton:hover {
  background-color: #d88e1a;
}

.paymentButtons .payButton:disabled {
  background-color: #e0e0e0;
  color: #adb5bd;
  cursor: not-allowed;
}


/* Responsive adjustments */
@media (max-width: 768px) {
  .mainContent {
    padding: 0px;
  }
  .section {
    padding: 15px;
  }
  .sectionHeader h2,
  .section h2 {
    font-size: 1rem;
  }
  .totalCheckboxLabel {
    font-size: 0.9rem;
  }
  .deleteButton {
    font-size: 0.8rem;
  }
  .messageInput,
  .deliveryInput,
  .summaryRow,
  .detailText,
  .paymentMethodButton {
    font-size: 0.9rem;
  }
  .fixedFooter {
    padding: 0px;
    padding-bottom: calc(10px + env(safe-area-inset-bottom));
  }
  .totalSummaryBox {
    padding: 10px;
  }
  .totalSummaryRow {
    font-size: 0.85rem;
  }
  .highlightPrice {
    font-size: 1rem;
  }
}